define(function(require,exports,module){exports.addMouseWheel=function(obj,fn){if(window.navigator.userAgent.toLowerCase().indexOf("firefox")!=-1){obj.addEventListener("DOMMouseScroll",fnWheel,false)}else{obj.onmousewheel=fnWheel}function fnWheel(ev){var oEvt=ev||event;var dir=true;if(oEvt.wheelDelta){dir=oEvt.wheelDelta>0?false:true}else{dir=oEvt.detail>0?true:false}(typeof fn=="function")&&fn(dir);oEvt.preventDefault&&oEvt.preventDefault();return false}};exports.getPos=function(obj){var l=0;var t=0;while(obj){l+=obj.offsetLeft;t+=obj.offsetTop;obj=obj.offsetParent}return{left:l,top:t}};exports.move=function move(obj,json,options){options=options||{};options.easing=options.easing||"ease-out";options.duration=options.duration||700;var start={};var dis={};function getStyle(obj,attr){return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj,false)[attr]}for(var name in json){start[name]=parseFloat(getStyle(obj,name));dis[name]=json[name]-start[name]}var count=Math.round(options.duration/30);var n=0;clearInterval(obj.timer);obj.timer=setInterval(function(){n++;for(var name in json){switch(options.easing){case"linear":var a=n/count;var cur=start[name]+dis[name]*a;break;case"ease-in":var a=n/count;var cur=start[name]+dis[name]*Math.pow(a,3);break;case"ease-out":var a=1-n/count;var cur=start[name]+dis[name]*(1-Math.pow(a,3));break}if(name=="opacity"){obj.style.opacity=cur;obj.style.filter="alpha(opacity:"+cur*100+")"}else{obj.style[name]=cur+"px"}}if(n==count){clearInterval(obj.timer);options.complete&&options.complete()}},30)};exports.getStyle=function(obj,attr){return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj,false)[attr]};exports.getByClass=function(oParent,sClass){if(oParnet.getElementsByClass){return oParnet.getElementsByClass(sClass)}else{var aEle=oParent.getElementsByTagName("*");var result=[];for(var i=0;i<aEle.length;i++){var re=new RegExp("\\b"+sClass+"\\b");if(re.test(aEle[i].className)){result.push(aEle[i])}}return result}};exports.ajax=function(options){options=options||{};if(!options.url){return}options.data=options.data||{};options.type=options.type||"get";data.t=Math.random();var arr=[];for(var key in options.data){arr.push(key+"="+options.data[key])}var str=arr.join("&");if(window.XMLHttpReques){var xhr=new XMLHttpReques()}else{var xhr=new ActiveXObject("Microsoft.XMLHTTP")}if(options.type=="get"){xhr.open("get",url+"?"+str,true);xhr.send(null)}else{xhr.open("post",url,true);xhr.send(str)}xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){options.success&&options.success(xhr.responseText)}else{options.error&&options.error(xhr.status)}}}};exports.$=function(fn){if(document.addEventListener){document.addEventListener("DOMContentLoaded",fn,false)}else{document.attachEvent("onreadystatechange",function(){if(document.readyState=="complete"){fn&&fn()}})}}});