define(function(require,exports,module){var getByClass=require("base.js").getByClass;exports.show=function(){var M=12;var oDiv=document.getElementById("div1");var aDiv=oDiv.getElementsByClassName("hid");var x=-10;var y=0;var bOk=false;var speedX=0;var speedY=0;var timer2=null;for(var i=1;i<=M;i++){var oNewDiv=document.createElement("div");oNewDiv.className="hid";oNewDiv.id=i-1;(function(oNewDiv,i){setTimeout(function(){oNewDiv.style.WebkitTransform="rotateY("+(360*(i-1)/M)+"deg) translateZ(400px)";oNewDiv.style.MozTransform="rotateY("+(360*(i-1)/M)+"deg) translateZ(400px)";oNewDiv.style.msTransform="rotateY("+(360*(i-1)/M)+"deg) translateZ(400px)";oNewDiv.style.OTransform="rotateY("+(360*(i-1)/M)+"deg) translateZ(400px)";oNewDiv.style.transform="rotateY("+(360*(i-1)/M)+"deg) translateZ(400px)";setTimeout(function(){if(i==M){fixAll()}setTimeout(function(){oNewDiv.style.WebkitTransition="none";oNewDiv.style.MozTransition="none";oNewDiv.style.msTransition="none";oNewDiv.style.OTransition="none";oNewDiv.style.transition="none"},1000)},3000)},(M+3-i)*200)})(oNewDiv,i);oNewDiv.degY=360*(i-1)/M;oNewDiv.innerHTML='<div class="img"><span class="over"><span class="shadow"></span></span></div>';oNewDiv=oNewDiv.getElementsByClassName("img")[0];oNewDiv.style.background="url(images/"+i+".jpg)";oNewDiv.getElementsByClassName("shadow")[0].style.background="-webkit-linear-gradient(rgba(0,0,0,1) 40%, rgba(255,255,255,0)), url(images/"+i+".jpg)";oNewDiv.getElementsByClassName("shadow")[0].style.background="-moz-linear-gradient(rgba(0,0,0,1) 40%, rgba(255,255,255,0)), url(images/"+i+".jpg)";oNewDiv.getElementsByClassName("shadow")[0].style.background="-ms-linear-gradient(rgba(0,0,0,1) 40%, rgba(255,255,255,0)), url(images/"+i+".jpg)";oNewDiv.getElementsByClassName("shadow")[0].style.background="-o-linear-gradient(rgba(0,0,0,1) 40%, rgba(255,255,255,0)), url(images/"+i+".jpg)";oNewDiv.getElementsByClassName("shadow")[0].style.backgroundSize="100% 100%";oNewDiv.style.backgroundSize="100% 100%";oDiv.appendChild(oNewDiv.parentNode)}var oId="";function openNew(oId){var i=parseInt(oId);if(i>-1){aDiv[i].onclick=function(){switch(i){case 0:window.open("pages/H5/3dlogin.html","_blank");break;case 1:window.open("pages/H5/canvasss.html","_blank");break;case 2:window.open("pages/H5/clock.html","_blank");break;case 3:window.open("pages/html/360kan/index.html","_blank");break;case 4:window.open("pages/html/mi/index.html","_blank");break;case 5:window.open("pages/html/meituan/index.html","_blank");break;case 6:window.open("pages/javascript/3dpto/index.html","_blank");break;case 7:window.open("pages/javascript/appledock/index.html","_blank");break;case 8:window.open("pages/javascript/chromeapp/index.html","_blank");break;case 9:window.open("pages/javascript/simplefalls.html","_blank");break;case 10:window.open("pages/javascript/picturesc/index.html","_blank");break;case 11:window.open("pages/javascript/shadowdrag.html","_blank");break}}}}document.getElementById("show").onmousedown=function(ev){if(!bOk){return}var oEvent=ev||event;if(window.navigator.userAgent.indexOf("Firefox")!=-1){oId=oEvent.explicitOriginalTarget.offsetParent.id}else{if(window.navigator.userAgent.indexOf("Chrome")!=-1){oId=ev.srcElement.offsetParent.id}}openNew(oId);var mouseStartX=oEvent.clientX;var mouseStartY=oEvent.clientY;var startX=x;var startY=y;var lastX=mouseStartX;var lastY=mouseStartY;speedX=speedY=0;document.onmousemove=function(ev){var oEvent=ev||event;y=startY+(oEvent.clientX-mouseStartX)/10;x=startX-(oEvent.clientY-mouseStartY)/10;speedX=(oEvent.clientX-lastX)/5;speedY=(oEvent.clientY-lastY)/5;fixAll();lastX=oEvent.clientX;lastY=oEvent.clientY;for(var j=0;j<aDiv.length;j++){aDiv[j].onclick=null}};document.onmouseup=function(){document.onmousemove=null;document.onmouseup=null;startMove()};stopMove();return false};var timer=null;function tranEnd(){clearInterval(timer2);aDiv[0].removeEventListener("transitionend",tranEnd,false);bOk=true;timer2=setInterval(function(){y+=0.1;fixAll()},15)}aDiv[0].addEventListener("transitionend",tranEnd,false);function startMove(){clearInterval(timer);timer=setInterval(function(){x-=speedY;y+=speedX;speedY*=0.93;speedX*=0.93;if(Math.abs(speedX)<0.1&&Math.abs(speedY)<0.1){stopMove()}fixAll()},30)}function stopMove(){clearInterval(timer)}function fixAll(){oDiv.style.WebkitTransform="perspective(1000px) rotateX("+x+"deg) rotateY("+y+"deg)";oDiv.style.MozTransform="perspective(1000px) rotateX("+x+"deg) rotateY("+y+"deg)";oDiv.style.msTransform="perspective(1000px) rotateX("+x+"deg) rotateY("+y+"deg)";oDiv.style.OTransform="perspective(1000px) rotateX("+x+"deg) rotateY("+y+"deg)";oDiv.style.transform="perspective(1000px) rotateX("+x+"deg) rotateY("+y+"deg)";for(var i=0;i<aDiv.length;i++){aDiv[i].onmouseover=function(){clearInterval(timer2)};aDiv[i].onmouseout=function(){clearInterval(timer2);timer2=setInterval(function(){if(y>0){y+=0.1}else{if(y<0){y-=0.1}}fixAll()},15)};var deg=aDiv[i].degY+y;var a=(deg%360+360)%360;a=Math.abs(180-a);
var d=0.1+(a/180)*0.9;if(d<0.2){d=0.2}aDiv[i].style.opacity=d}}}});