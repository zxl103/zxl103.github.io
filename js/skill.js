define(function(require,exports,module){exports.skill=function(){var oBox=document.getElementById("box");var aDiv=oBox.children;var x=0;var y=0;var timer=null;document.getElementById("professionalSkill").style.opacity="1";function backFont(oEv){var fallBack=function(){if(window.navigator.userAgent.indexOf("Firefox")!=-1){return oEv.explicitOriginalTarget.className}else{if(window.navigator.userAgent.indexOf("Chrome")!=-1){return oEv.srcElement.className}}};switch(fallBack()){case"front":oBox.style.WebkitTransform="perspective(800px) rotateX(0deg) rotateY(0deg)";oBox.style.MozTransform="perspective(800px) rotateX(0deg) rotateY(0deg)";break;case"back":oBox.style.WebkitTransform="perspective(800px) rotateX(180deg) rotateY(0deg)";oBox.style.MozTransform="perspective(800px) rotateX(180deg) rotateY(0deg)";break;case"top":oBox.style.WebkitTransform="perspective(800px) rotateX(270deg) rotateY(0deg)";oBox.style.MozTransform="perspective(800px) rotateX(270deg) rotateY(0deg)";break;case"bottom":oBox.style.WebkitTransform="perspective(800px) rotateX(90deg) rotateY(0deg)";oBox.style.MozTransform="perspective(800px) rotateX(90deg) rotateY(0deg)";break;case"left":oBox.style.WebkitTransform="perspective(800px) rotateX(0deg) rotateY(90deg)";oBox.style.MozTransform="perspective(800px) rotateX(0deg) rotateY(90deg)";break;case"right":oBox.style.WebkitTransform="perspective(800px) rotateX(0deg) rotateY(270deg)";oBox.style.MozTransform="perspective(800px) rotateX(0deg) rotateY(270deg)";break}}oBox.onmousedown=function(ev){var oEv=ev||event;var disX=oEv.pageX-y;var disY=oEv.pageY-x;backFont(oEv);clearInterval(timer);document.onmousemove=function(ev){var oEv=ev||event;x=oEv.pageY-disY;y=oEv.pageX-disX;boxRun();oBox.onclick=null;clearInterval(timer);timer=setInterval(boxRunContinue,10)};document.onmouseup=function(){document.onmousemove=null;document.onmouseup=null;for(var i=0;i<aDiv.length;i++){this.className="active"}};return false};function boxRunContinue(){x++;y++;boxRun();if(now==2){oBox.style.display="block"}}timer=setInterval(boxRunContinue,10);function boxRun(){oBox.style.WebkitTransform="perspective(800px) rotateX("+-x/5+"deg) rotateY("+y/5+"deg)";oBox.style.MozTransform="perspective(800px) rotateX("+-x/5+"deg) rotateY("+y/5+"deg)";oBox.style.MsTransform="perspective(800px) rotateX("+-x/5+"deg) rotateY("+y/5+"deg)";oBox.style.OTransform="perspective(800px) rotateX("+-x/5+"deg) rotateY("+y/5+"deg)"}var oUl=document.querySelectorAll(".sk_canvas_box");for(var j=0;j<oUl.length;j++){for(var i=0;i<oUl[j].children.length;i++){oUl[j].children[i].children[0].width=oUl[j].children[i].children[0].parentNode.offsetWidth;oUl[j].children[i].children[0].height=(oUl[j].children[i].children[0].parentNode.offsetHeight)*0.98;var cx=(oUl[j].children[i].children[0].parentNode.offsetWidth)/2;var cy=(oUl[j].children[i].children[0].parentNode.offsetHeight)/2;var r=(oUl[j].children[i].children[0].parentNode.offsetHeight)/2*0.85;var m=90;var str2="HTML&CSS";var stColor="#f90";if(j==1){switch(i){case 0:str2="移动端";m=70;stColor="red";break;case 1:str2="库和插件";m=50;stColor="yellow";break;case 2:str2="数据交互";m=50;stColor="blue";break}}else{if(j==0){switch(i){case 0:str2="CSS&HTML";m=95;stColor="#f90";break;case 1:str2="JS";m=85;stColor="#f69";break;case 2:str2="HTML5&CSS3";m=85;stColor="green";break}}}var n=360/100*m;canvas(oUl[j].children[i].children[0],cx,cy,r,n,str2,stColor);oUl[j].children[i].children[0].onmouseout=function(){clearInterval(timer);timer=setInterval(boxRunContinue,10)};(function(cx,cy,r,n,str2,stColor){oUl[j].children[i].children[0].onmouseover=function(ev){var oEv=ev||event;clearInterval(timer);backFont(oEv);canvas(this,cx,cy,r,n,str2,stColor)}})(cx,cy,r,n,str2,stColor)}}function canvas(oC,cx,cy,r,n,str2,stColor){var gd=oC.getContext("2d");var h=r/4;gd.font=h+"px Times New Roman";gd.fillStyle="red";var d=0;gd.lineWidth=r/6;var timer=setInterval(function(){d+=6;gd.clearRect(0,0,oC.width,oC.height);gd.beginPath();gd.arc(cx,cy,r,d2A(0),d2A(d),false);gd.stroke();gd.strokeStyle=stColor;gd.font="18px Times New Roman";gd.fillStyle="rgb("+255*(d/360)+",240,245)";var str=parseInt(d/360*100)+"%";var w=gd.measureText(str).width;gd.fillText(str,cx-w/2,cy-h/2);var w2=gd.measureText(str2).width;gd.fillText(str2,cx-w2/2,cy+h);if(d>=n){clearInterval(timer)}},15);function d2A(n){return n*Math.PI/180}}}});