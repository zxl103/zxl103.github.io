define(function(require,exports,module){var addMouseWheel=require("base.js").addMouseWheel;var move=require("base.js").move;var getPos=require("base.js").getPos;exports.home=function(){var oH2=document.getElementById("responsive_headline");var oH4=document.getElementById("text_ready");var oScreenBox=document.getElementById("screenBox");var aScreenBox=oScreenBox.children;var oNext=document.getElementById("next");var oClock=document.getElementById("clock");var oNav=document.getElementById("nav");var aNav=oNav.children;var oBanner=document.getElementById("banner");var speed=0;window.now=0;var readyMove=true;function screenChange(){document.getElementById("screenBox").style.height=document.documentElement.clientHeight*5+"px";document.getElementById("home").style.height="20%";if(document.documentElement.clientWidth<1000){document.getElementById("myCanvas").style.display="none";oH2.style.display="none";oH4.style.display="none"}else{document.getElementById("myCanvas").style.display="block";oH2.style.display="block";oH4.style.display="block"}screenTab(now)}screenChange();window.onresize=function(){screenChange()};oH4.style.fontSize="60px";oClock.style.opacity="1";var timer=setInterval(function(){speed+=(400-oH2.offsetLeft)/7;speed*=0.8;oH2.style.left=oH2.offsetLeft+speed+"px";if(Math.abs(speed)<0.5){clearInterval(timer)}},30);for(var i=now;i<aNav.length;i++){(function(index){aNav[index].onclick=function(){screenTab(index)}})(i)}(function(){var i=0;setInterval(function(){i++;oNext.style.top=570+i%25+"px"},30);oNext.onclick=function(){var j=now;j++;j%=aScreenBox.length;screenTab(j)}})();function screenTab(index){now=index;readyMove=false;move(oScreenBox,{"top":-aScreenBox[0].offsetHeight*index});for(var i=0;i<now;i++){for(var j=0;j<5;j++){aNav[j].className=""}aNav[now].className="current"}if(now<1){aNav[0].className="current";for(var j=1;j<5;j++){aNav[j].className=""}}if(now>0){oNav.className="nav_active"}else{oNav.className=""}}addMouseWheel(oScreenBox,function(dir){if(dir){now++;if(now===aScreenBox.length-1){now=aScreenBox.length-1}else{if(now>aScreenBox.length-1){now=0}}screenTab(now)}else{now--;if(now<=0){now=0}screenTab(now)}});for(var i=0;i<aNav.length;i++){var oDiv=document.createElement("div");oDiv.className="star";oDiv.style.top=aNav[i].offsetTop+aNav[i].offsetHeight+15+"px";oDiv.style.left=getPos(aNav[i]).left+aNav[i].offsetWidth/2+"px";oBanner.appendChild(oDiv)}var N=60;for(var i=0;i<N;i++){var oSpan=document.createElement("span");oSpan.style.WebkitTransform="rotate("+i*6+"deg)";oSpan.style.MozTransform="rotate("+i*6+"deg)";oSpan.style.MsTransform="rotate("+i*6+"deg)";if(i%5==0){oSpan.className="big_scale";oSpan.innerHTML="<em>"+(i/5||12)+"</em>";var oEm=oSpan.children[0];oEm.style.WebkitTransform="rotate("+-i*6+"deg)";oEm.style.MozTransform="rotate("+-i*6+"deg)";oEm.style.MsTransform="rotate("+-i*6+"deg)"}oClock.appendChild(oSpan)}function clock(){var oH=document.getElementById("hou");var oM=document.getElementById("min");var oS=document.getElementById("sec");var oDate=new Date();var h=oDate.getHours();var m=oDate.getMinutes();var s=oDate.getSeconds();var ms=oDate.getMilliseconds();oH.style.WebkitTransform="rotate("+(h*30+m/60*30)+"deg)";oM.style.WebkitTransform="rotate("+(m*6+s/60*6)+"deg)";oS.style.WebkitTransform="rotate("+(s*6+ms/1000*6)+"deg)";oH.style.MozTransform="rotate("+(h*30+m/60*30)+"deg)";oM.style.MozTransform="rotate("+(m*6+s/60*6)+"deg)";oS.style.MozTransform="rotate("+(s*6+ms/1000*6)+"deg)";oH.style.MsTransform="rotate("+(h*30+m/60*30)+"deg)";oM.style.MsTransform="rotate("+(m*6+s/60*6)+"deg)";oS.style.MsTransform="rotate("+(s*6+ms/1000*6)+"deg)"}clock();setInterval(clock,1)}});