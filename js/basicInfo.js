define(function(require,exports,module){var move=require("base.js").move;var getPos=require("base.js").getPos;exports.basicInfo=function(){var comList=document.getElementById("com_list");var comListLi=comList.children;for(var i=0;i<3;i++){var oBox=document.createElement("li");oBox.innerHTML="选项卡<span><h2>选项卡</h2></span>";comList.appendChild(oBox);oBox.style.left=i*100+"px";var speedX=rnd(1,30);var speedY=rnd(1,30);moveDeceleration(oBox,speedX,speedY);drag(oBox);(function(index){comListLi[i].onclick=function(){comListLi[index].className="active";comListLi[index].style.background="url('images/circle.jpg')";comListLi[index].children[0].className="activeSpan"}})(i)}comList.children[0].innerHTML="个人信息<span><h2>个人信息</h2><h5>姓名：周晓丽</h5><h5>年龄：25</h5>"+"<h5>电话：13120728152</h5></span>";comList.children[1].innerHTML="学历<span><h2>学历</h2><h5>学历：大专</h5><h5>学校：安徽新华学院</h5>"+"<h5>毕业时间：2015.6</h5></span>";comList.children[2].innerHTML="兴趣爱好<span><h2>兴趣爱好</h2><h5>读书，电影</h5><h5>集体爬山，打羽毛球</h5></span>";document.getElementById("boxShow").onclick=function(){for(var i=0;i<comListLi.length;i++){clearInterval(comListLi[i].timer);comListLi[i].className="active";comListLi[i].style.top="28%";comListLi[i].style.left=233+i*300+"px";comListLi[i].children[0].className="activeSpan";comListLi[i].style.background="url('images/circle.jpg')"}};page2();function page2(){for(var i=0;i<comListLi.length;i++){mo(comListLi[i])}function getDeraction(obj,oEvt){var x=oEvt.clientX-getPos(obj).left-obj.offsetWidth/2;var y=getPos(obj).top+obj.offsetHeight/2-oEvt.clientY;return Math.round((Math.atan2(y,x)/Math.PI*180+180)/90)%4}function mo(obj){obj.onmouseover=function(ev){var oEvt=ev||event;var oFrom=oEvt.fromElement||oEvt.relatedTarget;if(obj.contains(oFrom)){return}var a=getDeraction(this,oEvt);var oSpan=obj.children[0];switch(a){case 0:oSpan.style.left="-300px";oSpan.style.top=0;break;case 1:oSpan.style.top="300px";oSpan.style.left=0;break;case 2:oSpan.style.left="300px";oSpan.style.top=0;break;case 3:oSpan.style.top="-300px";oSpan.style.left=0;break}move(oSpan,{left:0,top:0})};obj.onmouseout=function(ev){var oEvt=ev||event;var oTo=oEvt.toElement||oEvt.relatedTarget;if(obj.contains(oTo)){return}var a=getDeraction(this,oEvt);var oSpan=obj.children[0];switch(a){case 0:move(oSpan,{left:-300,top:0});break;case 1:move(oSpan,{left:0,top:300});break;case 2:move(oSpan,{left:300,top:0});break;case 3:move(oSpan,{left:0,top:-300});break}}}}function rnd(n,m){return parseInt(n+Math.random()*(m-n))}function drag(oDiv){oDiv.onmousedown=function(ev){clearInterval(oDiv.timer);var lastX=0,lastY=0;var speedX=0,speedY=0;var e=ev||event;var disX=e.clientX-oDiv.offsetLeft;var disY=e.clientY-oDiv.offsetTop;document.onmousemove=function(ev){var e=ev||event;lastX=oDiv.offsetLeft;lastY=oDiv.offsetTop;oDiv.style.left=e.clientX-disX+"px";oDiv.style.top=e.clientY-disY+"px"};document.onmouseup=function(){document.onmousemove=document.onmouseup=null;speedX=oDiv.offsetLeft-lastX;speedY=oDiv.offsetTop-lastY;moveDeceleration(oDiv,speedX,speedY)};return false}}function moveDeceleration(obj,speedX,speedY){clearInterval(obj.timer);obj.timer=setInterval(function(){speedY+=3;var l=obj.offsetLeft+speedX;var t=obj.offsetTop+speedY;if(t>document.documentElement.clientHeight-obj.offsetHeight){t=document.documentElement.clientHeight-obj.offsetHeight;speedY*=-0.8;speedX*=0.8}else{if(t<0){t=0;speedY*=-0.8;speedX*=0.8}}if(l>document.documentElement.clientWidth-obj.offsetWidth){l=document.documentElement.clientWidth-obj.offsetWidth;speedX*=-0.8;speedY*=0.8}else{if(l<0){l=0;speedX*=-0.8;speedY*=0.8}}obj.style.left=l+"px";obj.style.top=t+"px";if(Math.abs(speedX)<1){speedX=0}if(Math.abs(speedY)<1){speedY=0}if(speedX==0&&speedY==0&&t==document.documentElement.clientHeight-obj.offsetHeight){clearInterval(obj.timer)}},30)}}});